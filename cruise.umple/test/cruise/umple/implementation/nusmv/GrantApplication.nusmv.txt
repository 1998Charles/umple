-- This file is generated from GrantApplication.ump --


MODULE Status  
    
  VAR 
    state : { status_Planned , status_InProgress , status_EvaluationByInstitution , status_VerifiedByInstitution , status_SubmittedByInstitution , status_UnderAdministrativeReview , status_UnderExpertReview , status_AwaitingFinalDecision , status_Accepted , status_Rejected , status_Withdrawn }; 
    event : { createApplication , researcherDeclaresComplete , editByResearcher , returnToResearcher , verified , editByInstitution , reOpen , submit , withdraw , acceptForReview , submissionCheck , acceptForExpertReview , bypassExpertReviewDueToMinorChanges , returnToInstitition , expertReviewsReturned , finalAccept , minorRevisionsNeeded , reject , tryAgain };      
  ASSIGN
    init(state) := status_Planned;    
  TRANS
    ( (state = status_InProgress) -> (
      (event = researcherDeclaresComplete & next(state) = status_EvaluationByInstitution)  |
      (event = editByResearcher & next(state) = status_InProgress)  ) ) &
    ( (state = status_EvaluationByInstitution) -> (
      (event = returnToResearcher & next(state) = status_InProgress)  |
      (event = verified & next(state) = status_VerifiedByInstitution)  |
      (event = editByInstitution & next(state) = status_EvaluationByInstitution)  ) ) &
    ( (state = status_VerifiedByInstitution) -> (
      (event = reOpen & next(state) = status_EvaluationByInstitution)  |
      (event = submit & next(state) = status_SubmittedByInstitution)  ) ) &
    ( (state = status_SubmittedByInstitution) -> (
      (event = withdraw & next(state) = status_Withdrawn)  |
      (event = acceptForReview & next(state) = status_UnderAdministrativeReview)  |
      (event = submissionCheck & next(state) = status_SubmittedByInstitution)  |
      (event = submissionCheck & next(state) = status_EvaluationByInstitution)  ) ) &
    ( (state = status_UnderAdministrativeReview) -> (
      (event = acceptForExpertReview & next(state) = status_UnderExpertReview)  |
      (event = bypassExpertReviewDueToMinorChanges & next(state) = status_AwaitingFinalDecision)  |
      (event = returnToInstitition & next(state) = status_EvaluationByInstitution)  |
      (event = withdraw & next(state) = status_Withdrawn)  ) ) &
    ( (state = status_UnderExpertReview) -> (
      (event = expertReviewsReturned & next(state) = status_AwaitingFinalDecision)  |
      (event = withdraw & next(state) = status_Withdrawn)  ) ) &
    ( (state = status_AwaitingFinalDecision) -> (
      (event = finalAccept & next(state) = status_Accepted)  |
      (event = minorRevisionsNeeded & next(state) = status_EvaluationByInstitution)  |
      (event = reject & next(state) = status_Rejected)  ) ) &
    ( (state = status_Planned) -> (
       event = createApplication & next(state) = status_InProgress) ) &
    ( (state = status_Rejected) -> (
       event = tryAgain & next(state) = status_InProgress) ) &
    ( (state = status_Withdrawn) -> (
       event = tryAgain & next(state) = status_InProgress) ) &
    ( (state = status_Accepted) -> (next(state) = state) )  