-- This file is generated from GrantApplication.ump --

-- PLEASE DO NOT EDIT THIS CODE --
-- This code was generated using the UMPLE @UMPLE_VERSION@ modeling language! --


-- This defines a NuSMV module for Status --
MODULE Status

   -- This part declares state variables for the given NuSMV module --
   VAR
     state : { Status_Planned , Status_InProgress , Status_EvaluationByInstitution , Status_VerifiedByInstitution , Status_SubmittedByInstitution , Status_UnderAdministrativeReview , Status_UnderExpertReview , Status_AwaitingFinalDecision , Status_Accepted , Status_Rejected , Status_Withdrawn };
     event : { ev_createApplication , ev_researcherDeclaresComplete , ev_editByResearcher , ev_returnToResearcher , ev_verified , ev_editByInstitution , ev_reOpen , ev_submit , ev_withdraw , ev_acceptForReview , ev_submissionCheck , ev_acceptForExpertReview , ev_bypassExpertReviewDueToMinorChanges , ev_returnToInstitition , ev_expertReviewsReturned , ev_finalAccept , ev_minorRevisionsNeeded , ev_reject , ev_tryAgain , ev_null };
     adminCheckOk : boolean;

   -- This part defines macros that summarize the transitions and guards (if any) of the given NuSMV module --
   DEFINE
     status_stable :=  !( event = ev_researcherDeclaresComplete | event = ev_returnToResearcher | event = ev_editByInstitution | event = ev_submit | event = ev_acceptForReview | event = ev_acceptForExpertReview | event = ev_returnToInstitition | event = ev_finalAccept | event = ev_reject | event = ev_createApplication | event = ev_editByResearcher | event = ev_verified | event = ev_reOpen | event = ev_withdraw | event = ev_submissionCheck | event = ev_bypassExpertReviewDueToMinorChanges | event = ev_expertReviewsReturned | event = ev_minorRevisionsNeeded | event = ev_tryAgain );
     t1 := event = ev_createApplication & state = Status_Planned;
     t2 := event = ev_researcherDeclaresComplete & state = Status_InProgress;
     t3 := event = ev_editByResearcher & state = Status_InProgress;
     t4 := event = ev_returnToResearcher & state = Status_EvaluationByInstitution;
     t5 := event = ev_verified & state = Status_EvaluationByInstitution;
     t6 := event = ev_editByInstitution & state = Status_EvaluationByInstitution;
     t7 := event = ev_reOpen & state = Status_VerifiedByInstitution;
     t8 := event = ev_submit & state = Status_VerifiedByInstitution;
     t9 := event = ev_withdraw & state = Status_SubmittedByInstitution;
     t10 := event = ev_acceptForReview & state = Status_SubmittedByInstitution;
     t11 := event = ev_submissionCheck & state = Status_SubmittedByInstitution & g1;
     t12 := event = ev_submissionCheck & state = Status_SubmittedByInstitution & g2;
     t13 := event = ev_acceptForExpertReview & state = Status_UnderAdministrativeReview;
     t14 := event = ev_bypassExpertReviewDueToMinorChanges & state = Status_UnderAdministrativeReview;
     t15 := event = ev_returnToInstitition & state = Status_UnderAdministrativeReview;
     t16 := event = ev_withdraw & state = Status_UnderAdministrativeReview;
     t17 := event = ev_expertReviewsReturned & state = Status_UnderExpertReview;
     t18 := event = ev_withdraw & state = Status_UnderExpertReview;
     t19 := event = ev_finalAccept & state = Status_AwaitingFinalDecision;
     t20 := event = ev_minorRevisionsNeeded & state = Status_AwaitingFinalDecision;
     t21 := event = ev_reject & state = Status_AwaitingFinalDecision;
     t22 := event = ev_tryAgain & state = Status_Rejected;
     t23 := event = ev_tryAgain & state = Status_Withdrawn;
     g1 := (adminCheckOk & (!adminCheckOk));
     g2 := !adminCheckOk;

   -- This part defines logic for the assignment of values to state variable "state" of this NuSMV module --
   ASSIGN
     init( state ) := Status_Planned;
     next( state ) := case
       t3 | t22 | t1 | t4 | t23 : Status_InProgress;
       t2 | t7 | t15 | t6 | t12 | t20 : Status_EvaluationByInstitution;
       t5 : Status_VerifiedByInstitution;
       t8 | t11 : Status_SubmittedByInstitution;
       t10 : Status_UnderAdministrativeReview;
       t13 : Status_UnderExpertReview;
       t14 | t17 : Status_AwaitingFinalDecision;
       t19 : Status_Accepted;
       t21 : Status_Rejected;
       t16 | t9 | t18 : Status_Withdrawn;
       TRUE : state;
     esac;

   -- This part defines logic for the assignment of values to state variable "event" of this NuSMV module --
   ASSIGN
     init( event ) := ev_null;
     next( event ) := case
       status_stable : { ev_createApplication , ev_researcherDeclaresComplete , ev_editByResearcher , ev_returnToResearcher , ev_verified , ev_editByInstitution , ev_reOpen , ev_submit , ev_withdraw , ev_acceptForReview , ev_submissionCheck , ev_acceptForExpertReview , ev_bypassExpertReviewDueToMinorChanges , ev_returnToInstitition , ev_expertReviewsReturned , ev_finalAccept , ev_minorRevisionsNeeded , ev_reject , ev_tryAgain };
       TRUE : ev_null;
     esac;

   -- This part defines logic for the assignment of values to state variable "adminCheckOk" of this NuSMV module --
   ASSIGN
     init( adminCheckOk ) := FALSE;

-- This defines a NuSMV module for main --
MODULE main

   -- This part declares state variables for the given NuSMV module --
   VAR
     status : Status;
CTLSPEC   EF( status.state = Status_Planned )
CTLSPEC   EF( status.state = Status_InProgress )
CTLSPEC   EF( status.state = Status_EvaluationByInstitution )
CTLSPEC   EF( status.state = Status_VerifiedByInstitution )
CTLSPEC   EF( status.state = Status_SubmittedByInstitution )
CTLSPEC   EF( status.state = Status_UnderAdministrativeReview )
CTLSPEC   EF( status.state = Status_UnderExpertReview )
CTLSPEC   EF( status.state = Status_AwaitingFinalDecision )
CTLSPEC   EF( status.state = Status_Accepted )
CTLSPEC   EF( status.state = Status_Rejected )
CTLSPEC   EF( status.state = Status_Withdrawn )
CTLSPEC   AG( status.t2 & status.t3 -> EX( status.state = Status_EvaluationByInstitution & status.state = Status_InProgress ) )
CTLSPEC   AG( status.t4 & status.t5 -> EX( status.state = Status_InProgress & status.state = Status_VerifiedByInstitution ) )
CTLSPEC   AG( status.t4 & status.t6 -> EX( status.state = Status_InProgress & status.state = Status_EvaluationByInstitution ) )
CTLSPEC   AG( status.t5 & status.t6 -> EX( status.state = Status_VerifiedByInstitution & status.state = Status_EvaluationByInstitution ) )
CTLSPEC   AG( status.t7 & status.t8 -> EX( status.state = Status_EvaluationByInstitution & status.state = Status_SubmittedByInstitution ) )
CTLSPEC   AG( status.t9 & status.t10 -> EX( status.state = Status_Withdrawn & status.state = Status_UnderAdministrativeReview ) )
CTLSPEC   AG( status.t9 & status.t11 -> EX( status.state = Status_Withdrawn & status.state = Status_SubmittedByInstitution ) )
CTLSPEC   AG( status.t9 & status.t12 -> EX( status.state = Status_Withdrawn & status.state = Status_EvaluationByInstitution ) )
CTLSPEC   AG( status.t10 & status.t11 -> EX( status.state = Status_UnderAdministrativeReview & status.state = Status_SubmittedByInstitution ) )
CTLSPEC   AG( status.t10 & status.t12 -> EX( status.state = Status_UnderAdministrativeReview & status.state = Status_EvaluationByInstitution ) )
CTLSPEC   AG( status.t11 & status.t12 -> EX( status.state = Status_SubmittedByInstitution & status.state = Status_EvaluationByInstitution ) )
CTLSPEC   AG( status.t13 & status.t14 -> EX( status.state = Status_UnderExpertReview & status.state = Status_AwaitingFinalDecision ) )
CTLSPEC   AG( status.t13 & status.t15 -> EX( status.state = Status_UnderExpertReview & status.state = Status_EvaluationByInstitution ) )
CTLSPEC   AG( status.t13 & status.t16 -> EX( status.state = Status_UnderExpertReview & status.state = Status_Withdrawn ) )
CTLSPEC   AG( status.t14 & status.t15 -> EX( status.state = Status_AwaitingFinalDecision & status.state = Status_EvaluationByInstitution ) )
CTLSPEC   AG( status.t14 & status.t16 -> EX( status.state = Status_AwaitingFinalDecision & status.state = Status_Withdrawn ) )
CTLSPEC   AG( status.t15 & status.t16 -> EX( status.state = Status_EvaluationByInstitution & status.state = Status_Withdrawn ) )
CTLSPEC   AG( status.t17 & status.t18 -> EX( status.state = Status_AwaitingFinalDecision & status.state = Status_Withdrawn ) )
CTLSPEC   AG( status.t19 & status.t20 -> EX( status.state = Status_Accepted & status.state = Status_EvaluationByInstitution ) )
CTLSPEC   AG( status.t19 & status.t21 -> EX( status.state = Status_Accepted & status.state = Status_Rejected ) )
CTLSPEC   AG( status.t20 & status.t21 -> EX( status.state = Status_EvaluationByInstitution & status.state = Status_Rejected ) )