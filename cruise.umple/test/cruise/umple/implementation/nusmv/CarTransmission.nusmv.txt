-- This file is generated from CarTransmission.ump --


MODULE State_Handle  
    
  VAR 
    state : { state_neutral , state_reverse , state_drive , drive_first , drive_second , drive_third }; 
    event : { selectReverse , selectDrive , selectFirst , selectSecond , selectNeutral , reachSecondSpeed , reachThirdSpeed , dropBelowSecondSpeed , dropBelowThirdSpeed };        
  
MODULE State  
    
  VAR 
    handle : State_Handle;     
  ASSIGN
    init(handle.state) := state_neutral;    
  TRANS
    ( (handle.state = state_neutral) -> (
      (handle.event = selectReverse & next(handle.state) = state_reverse)  |
      (handle.event = selectDrive & next(handle.state) = state_drive)  |
      (handle.event = selectFirst & next(handle.state) = drive_first)  |
      (handle.event = selectSecond & next(handle.state) = drive_second)  ) ) &
    ( (handle.state = state_drive) -> (
      (handle.event = selectNeutral & next(handle.state) = state_neutral)  |
      (handle.event = selectFirst & next(handle.state) = drive_first)  |
      (handle.event = selectSecond & next(handle.state) = drive_second)  ) ) &
    ( (handle.state = state_reverse) -> (
       handle.event = selectNeutral & next(handle.state) = state_neutral) )  
      
MODULE Drive( handle )  
        
  TRANS
    ( (handle.state = drive_second) -> (
      (handle.event = reachThirdSpeed & next(handle.state) = drive_third)  |
      (handle.event = dropBelowSecondSpeed & next(handle.state) = drive_first)  ) ) &
    ( (handle.state = drive_first) -> (
       handle.event = reachSecondSpeed & next(handle.state) = drive_second) ) &
    ( (handle.state = drive_third) -> (
       handle.event = dropBelowThirdSpeed & next(handle.state) = drive_second) )  